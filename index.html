<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Send JSON</title>
    <meta name="description" content="How send JSON to server and catch away">
</head>
<body>
    <main>
        <h1>Send JSON</h1>
        <form action="/" method="POST">
            <input type="text">
            <input type="text">
            <button>Send</button>
        </form>
    </main>
    <script>
        document.querySelector("button").addEventListener("submit",sendJSON);

        async function sendJSON(data){
            try {
                const response=await fetch('https://comments.qucu.ru/allow-cors',{
                    method: POST,
                    headers: {
                    'Content-Type':'application/json',
                    },
                mode:'cors',
                credentials:'include',
                body:JSON.stringify(data),
                });
                
            }catch(error){
                console.error('Error from send JSON: ', error);
            }

        };
        sendJSON({
            user:'testUser',
            message: 'message',
            date: new Date().toISOString()
        });
    </script>
</body>
</html>