<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Send JSON</title>
    <meta name="description" content="How send JSON to server and catch away">
    <link rel="shortcut icon" href="json.svg" type="image/x-icon">
    <style>
        *{
            margin:0;
            padding:0;
        }
        form{
            display:grid;
        }
    </style>
</head>
<body>
    <main>
        <h1>Send JSON</h1>
        <form action="https://comments.qucu.ru/allow-cors" method="POST">
            <input type="text">
            <input type="text">
            <button>Send</button>
        </form>
    </main>
    <script>
        document.querySelector("button").addEventListener("submit",sendJSON);

        async function sendJSON(data){
            try {
                const response=await fetch('https://comments.qucu.ru/allow-cors',{
                    method: POST,
                    headers: {
                    'Content-Type':'application/json',
                    },
                mode:'cors',
                credentials:'include',
                body:JSON.stringify(data),
                });
                
            }catch(error){
                console.error('Error from send JSON: ', error);
            }

        };
        sendJSON({
    "userName": "o_O",
    "message": " how my superhero glasses shine? )))",
    "date": "2025-08-12T08:00:24.694Z",
    "idea": {
      "id": "a000",
      "site": {
        "ancestorOrigins": {},
        "href": "https://qucu.ru/",
        "origin": "https://qucu.ru",
        "protocol": "https:",
        "host": "qucu.ru",
        "hostname": "qucu.ru",
        "port": "",
        "pathname": "/",
        "search": "",
        "hash": ""
      }
    }
  });
    </script>
</body>
</html>